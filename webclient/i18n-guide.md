# å›½é™…åŒ– (i18n) ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

æœ¬é¡¹ç›®å·²æˆåŠŸé›†æˆäº†å›½é™…åŒ–åŠŸèƒ½ï¼Œæ”¯æŒä¸­æ–‡ï¼ˆzh-CNï¼‰å’Œè‹±æ–‡ï¼ˆen-USï¼‰ä¸¤ç§è¯­è¨€ã€‚

## å·²å®ç°çš„åŠŸèƒ½

### 1. æ ¸å¿ƒç»„ä»¶
- âœ… `react-i18next` åº“é›†æˆ
- âœ… è¯­è¨€è‡ªåŠ¨æ£€æµ‹ï¼ˆlocalStorage > navigator > htmlTagï¼‰
- âœ… è¯­è¨€åˆ‡æ¢ç»„ä»¶
- âœ… å®Œæ•´çš„ä¸­è‹±æ–‡è¯­è¨€åŒ…

### 2. æ”¯æŒçš„è¯­è¨€
- ğŸ‡¨ğŸ‡³ **ä¸­æ–‡** (zh-CN) - é»˜è®¤è¯­è¨€
- ğŸ‡ºğŸ‡¸ **è‹±æ–‡** (en-US)

### 3. å·²å›½é™…åŒ–çš„ç»„ä»¶
- âœ… ä¾§è¾¹æ å¯¼èˆª (`sidebar.tsx`)
- âœ… ä¸»é¡µé¢ (`app/page.tsx`)
- âœ… è®¾ç½®é¡µé¢ (`components/settings-view.tsx`)
- âœ… è¯­è¨€åˆ‡æ¢å™¨ (`components/language-switcher.tsx`)

## æ–‡ä»¶ç»“æ„

```
webclient/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ i18n.ts                 # i18n é…ç½®å’Œåˆå§‹åŒ–
â”‚   â”œâ”€â”€ i18n-test.ts           # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ locales/               # è¯­è¨€æ–‡ä»¶ç›®å½•
â”‚       â”œâ”€â”€ zh-CN.json         # ä¸­æ–‡è¯­è¨€åŒ…
â”‚       â””â”€â”€ en-US.json         # è‹±æ–‡è¯­è¨€åŒ…
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ i18n-provider.tsx      # React i18n æä¾›è€…
â”‚   â”œâ”€â”€ language-switcher.tsx  # è¯­è¨€åˆ‡æ¢ç»„ä»¶
â”‚   â”œâ”€â”€ sidebar.tsx           # ä¾§è¾¹æ ï¼ˆå·²å›½é™…åŒ–ï¼‰
â”‚   â””â”€â”€ settings-view.tsx     # è®¾ç½®é¡µé¢ï¼ˆå·²å›½é™…åŒ–ï¼‰
â””â”€â”€ app/
    â”œâ”€â”€ layout.tsx            # æ ¹å¸ƒå±€ï¼ˆåŒ…å« i18n æä¾›è€…ï¼‰
    â””â”€â”€ page.tsx              # ä¸»é¡µé¢ï¼ˆå·²å›½é™…åŒ–ï¼‰
```

## ä½¿ç”¨æ–¹æ³•

### 1. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘

```tsx
import { useTranslation } from "react-i18next"

function MyComponent() {
  const { t } = useTranslation()

  return (
    <div>
      <h1>{t("app.title")}</h1>
      <p>{t("settings.description")}</p>
    </div>
  )
}
```

### 2. å¸¦å‚æ•°çš„ç¿»è¯‘

```tsx
// è¯­è¨€åŒ…ä¸­: "session.description": "session_seed={{seed}}"
const message = t("session.description", { seed: "abc123" })
// ç»“æœ: "session_seed=abc123"
```

### 3. åµŒå¥—çš„ç¿»è¯‘é”®

```tsx
// ä½¿ç”¨ç‚¹å·è®¿é—®åµŒå¥—é”®
t("settings.network.title")
t("toast.qrCode.generateFailed.title")
```

## è¯­è¨€åˆ‡æ¢

ç”¨æˆ·å¯ä»¥é€šè¿‡ä¾§è¾¹æ ä¸­çš„è¯­è¨€åˆ‡æ¢æŒ‰é’®åœ¨ä¸­è‹±æ–‡ä¹‹é—´åˆ‡æ¢ï¼š
- è¯­è¨€åå¥½ä¼šè‡ªåŠ¨ä¿å­˜åˆ° localStorage
- ä¸‹æ¬¡è®¿é—®æ—¶ä¼šè®°ä½ç”¨æˆ·çš„è¯­è¨€é€‰æ‹©

## æ·»åŠ æ–°è¯­è¨€

1. åœ¨ `lib/locales/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„è¯­è¨€æ–‡ä»¶ï¼Œå¦‚ `ja-JP.json`
2. åœ¨ `lib/i18n.ts` ä¸­å¯¼å…¥å¹¶æ·»åŠ åˆ° `resources` å¯¹è±¡
3. æ›´æ–°è¯­è¨€åˆ‡æ¢ç»„ä»¶ä»¥æ”¯æŒæ–°è¯­è¨€

## æ·»åŠ æ–°ç¿»è¯‘

1. åœ¨ `lib/locales/zh-CN.json` ä¸­æ·»åŠ ä¸­æ–‡ç¿»è¯‘
2. åœ¨ `lib/locales/en-US.json` ä¸­æ·»åŠ å¯¹åº”çš„è‹±æ–‡ç¿»è¯‘
3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ `t("your.new.key")` è°ƒç”¨

## æµ‹è¯•

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯å›½é™…åŒ–åŠŸèƒ½ï¼š

```bash
# åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œ
import('./lib/i18n-test.js').then(module => module.testI18n())
```

## æŠ€æœ¯ç‰¹æ€§

- ğŸ”§ **è‡ªåŠ¨è¯­è¨€æ£€æµ‹**: åŸºäº localStorageã€æµè§ˆå™¨è¯­è¨€å’Œ HTML æ ‡ç­¾
- ğŸ’¾ **æŒä¹…åŒ–**: è¯­è¨€é€‰æ‹©è‡ªåŠ¨ä¿å­˜
- ğŸ¯ **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript æ”¯æŒ
- ğŸš€ **æ€§èƒ½ä¼˜åŒ–**: æŒ‰éœ€åŠ è½½è¯­è¨€èµ„æº
- ğŸ”„ **çƒ­åˆ‡æ¢**: æ— éœ€åˆ·æ–°é¡µé¢å³å¯åˆ‡æ¢è¯­è¨€

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿æ‰€æœ‰ç”¨æˆ·å¯è§çš„æ–‡æœ¬éƒ½é€šè¿‡ i18n ç³»ç»Ÿç®¡ç†
- ä¿æŒè¯­è¨€æ–‡ä»¶ç»“æ„çš„ä¸€è‡´æ€§
- å®šæœŸæ£€æŸ¥ç¼ºå¤±çš„ç¿»è¯‘é”®
- æµ‹è¯•æ‰€æœ‰è¯­è¨€ä¸‹çš„ UI å¸ƒå±€é€‚åº”æ€§